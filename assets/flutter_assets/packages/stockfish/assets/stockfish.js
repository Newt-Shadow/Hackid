/*!
 * Stockfish copyright T. Romstad, M. Costalba, J. Kiiski, G. Linscott
 * and other contributors.
 *
 * Released under the GNU General Public License v3.
 *
 * Compiled to JavaScript and WebAssembly by Niklas Fiekas
 * <niklas.fiekas@backscattering.de> using Emscripten.
 *
 * https://github.com/niklasf/stockfish.wasm
 */

var Stockfish = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
  return (
function(Stockfish) {
  Stockfish = Stockfish || {};


function d(){k.buffer!=l&&n(k.buffer);return ba}function t(){k.buffer!=l&&n(k.buffer);return ca}function w(){k.buffer!=l&&n(k.buffer);return da}function y(){k.buffer!=l&&n(k.buffer);return ea}function fa(){k.buffer!=l&&n(k.buffer);return ha}null;var z;z||(z=typeof Stockfish !== 'undefined' ? Stockfish : {});var ia,ja;z.ready=new Promise(function(a,b){ia=a;ja=b});
(function(){function a(){var g=e.shift();if(!b&&void 0!==g){if("quit"===g)return z.terminate();var m=z.ccall("uci_command","number",["string"],[g]);m&&e.unshift(g);h=m?2*h:1;setTimeout(a,h)}}var b=!1,c=[];z.print=function(g){0===c.length?console.log(g):setTimeout(function(){for(var m=0;m<c.length;m++)c[m](g)})};z.addMessageListener=function(g){c.push(g)};z.removeMessageListener=function(g){g=c.indexOf(g);0<=g&&c.splice(g,1)};z.terminate=function(){b=!0;A.ya()};var e=[],h=1;z.postMessage=function(g){e.push(g)};
z.postRun=function(){z.postMessage=function(g){e.push(g);1===e.length&&a()};a()}})();var B={},C;for(C in z)z.hasOwnProperty(C)&&(B[C]=z[C]);var ka=[],la="./this.program";function ma(a,b){throw b;}var na="object"===typeof window,D="function"===typeof importScripts,E="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node,F=z.ENVIRONMENT_IS_PTHREAD||!1,G="";function oa(a){return z.locateFile?z.locateFile(a,G):G+a}var H,I,J,L;
if(E){G=D?require("path").dirname(G)+"/":__dirname+"/";H=function(a,b){J||(J=require("fs"));L||(L=require("path"));a=L.normalize(a);return J.readFileSync(a,b?null:"utf8")};I=function(a){a=H(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a};1<process.argv.length&&(la=process.argv[1].replace(/\\/g,"/"));ka=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof M))throw a;});process.on("unhandledRejection",function(a){throw a;});ma=function(a,b){if(N())throw process.exitCode=
a,b;b instanceof M||O("exiting due to exception: "+b);process.exit(a)};z.inspect=function(){return"[Emscripten Module object]"};var pa;try{pa=require("worker_threads")}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a;}global.Worker=pa.Worker}else if(na||D)D?G=self.location.href:"undefined"!==typeof document&&document.currentScript&&(G=document.currentScript.src),_scriptDir&&(G=_scriptDir),0!==G.indexOf("blob:")?
G=G.substr(0,G.replace(/[?#].*/,"").lastIndexOf("/")+1):G="",E?(H=function(a,b){J||(J=require("fs"));L||(L=require("path"));a=L.normalize(a);return J.readFileSync(a,b?null:"utf8")},I=function(a){a=H(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a}):(H=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},D&&(I=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}));
E&&"undefined"===typeof performance&&(global.performance=require("perf_hooks").performance);var qa=console.log.bind(console),ra=console.warn.bind(console);if(E){var fs=require("fs");qa=function(a){fs.writeSync(1,a+"\n")};ra=function(a){fs.writeSync(2,a+"\n")}}var ta=z.print||qa,O=z.printErr||ra;for(C in B)B.hasOwnProperty(C)&&(z[C]=B[C]);B=null;z.arguments&&(ka=z.arguments);z.thisProgram&&(la=z.thisProgram);z.quit&&(ma=z.quit);var ua,P;z.wasmBinary&&(P=z.wasmBinary);
var noExitRuntime=z.noExitRuntime||!0;"object"!==typeof WebAssembly&&Q("no native wasm support detected");var k,va,wa=!1,R;function assert(a,b){a||Q("Assertion failed: "+b)}function xa(a){var b=z["_"+a];assert(b,"Cannot call unknown function "+a+", make sure it is exported");return b}function ya(a){var b=new TextDecoder(a);this.decode=function(c){c.buffer instanceof SharedArrayBuffer&&(c=new Uint8Array(c));return b.decode.call(b,c)}}var za="undefined"!==typeof TextDecoder?new ya("utf8"):void 0;
function Aa(a,b,c){var e=b+c;for(c=b;a[c]&&!(c>=e);)++c;if(16<c-b&&a.subarray&&za)return za.decode(a.subarray(b,c));for(e="";b<c;){var h=a[b++];if(h&128){var g=a[b++]&63;if(192==(h&224))e+=String.fromCharCode((h&31)<<6|g);else{var m=a[b++]&63;h=224==(h&240)?(h&15)<<12|g<<6|m:(h&7)<<18|g<<12|m<<6|a[b++]&63;65536>h?e+=String.fromCharCode(h):(h-=65536,e+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else e+=String.fromCharCode(h)}return e}function S(a){return a?Aa(t(),a,void 0):""}
function Ba(a,b,c,e){if(0<e){e=c+e-1;for(var h=0;h<a.length;++h){var g=a.charCodeAt(h);if(55296<=g&&57343>=g){var m=a.charCodeAt(++h);g=65536+((g&1023)<<10)|m&1023}if(127>=g){if(c>=e)break;b[c++]=g}else{if(2047>=g){if(c+1>=e)break;b[c++]=192|g>>6}else{if(65535>=g){if(c+2>=e)break;b[c++]=224|g>>12}else{if(c+3>=e)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63}b[c++]=128|g>>6&63}b[c++]=128|g&63}}b[c]=0}}
function Ca(a){for(var b=0,c=0;c<a.length;++c){var e=a.charCodeAt(c);55296<=e&&57343>=e&&(e=65536+((e&1023)<<10)|a.charCodeAt(++c)&1023);127>=e?++b:b=2047>=e?b+2:65535>=e?b+3:b+4}return b}"undefined"!==typeof TextDecoder&&new ya("utf-16le");function Da(a){var b=Ca(a)+1,c=T(b);Ba(a,d(),c,b);return c}function Ea(a,b){d().set(a,b)}var l,ba,ca,da,ea,ha;F&&(l=z.buffer);
function n(a){l=a;z.HEAP8=ba=new Int8Array(a);z.HEAP16=new Int16Array(a);z.HEAP32=da=new Int32Array(a);z.HEAPU8=ca=new Uint8Array(a);z.HEAPU16=new Uint16Array(a);z.HEAPU32=ea=new Uint32Array(a);z.HEAPF32=new Float32Array(a);z.HEAPF64=ha=new Float64Array(a)}var Fa=z.INITIAL_MEMORY||67108864;
if(F)k=z.wasmMemory,l=z.buffer;else if(z.wasmMemory)k=z.wasmMemory;else if(k=new WebAssembly.Memory({initial:Fa/65536,maximum:32768,shared:!0}),!(k.buffer instanceof SharedArrayBuffer))throw O("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),E&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),
Error("bad memory");k&&(l=k.buffer);Fa=l.byteLength;n(l);var Ga,Ha=[],Ia=[],Ja=[],Ka=[],La=!1,Ma=0;function N(){return noExitRuntime||0<Ma}function Na(){var a=z.preRun.shift();Ha.unshift(a)}var U=0,Oa=null,V=null;z.preloadedImages={};z.preloadedAudios={};function Q(a){if(F)postMessage({cmd:"onAbort",arg:a});else if(z.onAbort)z.onAbort(a);a="Aborted("+a+")";O(a);wa=!0;R=1;a=new WebAssembly.RuntimeError(a+". Build with -s ASSERTIONS=1 for more info.");ja(a);throw a;}
function Pa(){return W.startsWith("data:application/octet-stream;base64,")}var W;W="stockfish.wasm";Pa()||(W=oa(W));function Qa(){var a=W;try{if(a==W&&P)return new Uint8Array(P);if(I)return I(a);throw"both async and sync fetching of the wasm failed";}catch(b){Q(b)}}
function Ra(){return P||!na&&!D||"function"!==typeof fetch?Promise.resolve().then(function(){return Qa()}):fetch(W,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+W+"'";return a.arrayBuffer()}).catch(function(){return Qa()})}var Sa={};function X(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b(z);else{var c=b.$a;"number"===typeof c?void 0===b.la?Ta(c)():Ta(c)(b.la):c(void 0===b.la?null:b.la)}}}
function Ua(a){var b=Va();a=a();Wa(b);return a}function Xa(a,b){if(0>=a||a>d().length||a&1||0>b)return-28;if(0==b)return 0;2147483647<=b&&(b=Infinity);var c=Atomics.load(w(),Y>>2),e=0;if(c==a&&Atomics.compareExchange(w(),Y>>2,c,0)==c&&(--b,e=1,0>=b))return 1;a=Atomics.notify(w(),a>>2,b);if(0<=a)return a+e;throw"Atomics.notify returned an unexpected value "+a;}z._emscripten_futex_wake=Xa;function Ya(a){var b=A.ea[a];b&&(w()[a+8>>2]=0,A.sa(b.worker))}
function Za(a){a&&(a.ja&&$a(a.ja),a.ja=0,a.wa&&a.ha&&$a(a.ha),a.ha=0,a.worker&&(a.worker.ga=null))}function ab(a){bb(a)}z._exit=ab;function cb(a){a instanceof M||"unwind"==a||ma(1,a)}
var A={fa:[],na:[],za:[],Ka:function(){for(var a=0;1>a;++a)A.Aa()},La:function(){A.receiveObjectTransfer=A.Na;A.threadInit=A.Fa;A.setExitStatus=A.Pa},ea:{},Pa:function(a){R=a},ya:function(){for(var a in A.ea){var b=A.ea[a];b&&b.worker&&A.sa(b.worker)}for(a=0;a<A.fa.length;++a)A.fa[a].terminate();A.fa=[]},sa:function(a){A.Oa(function(){delete A.ea[a.ga.ja];A.fa.push(a);A.na.splice(A.na.indexOf(a),1);Za(a.ga);a.ga=void 0})},Oa:function(a){w()[db>>2]=0;try{a()}finally{w()[db>>2]=1}},Na:function(){},
Fa:function(){for(var a in A.za)A.za[a]()},Da:function(a,b){a.onmessage=function(c){c=c.data;var e=c.cmd;a.ga&&(A.Ga=a.ga.ja);if(c.targetThread&&c.targetThread!=eb()){var h=A.ea[c.hb];h?h.worker.postMessage(c,c.transferList):O('Internal error! Worker sent a message "'+e+'" to target pthread '+c.targetThread+", but that thread no longer exists!")}else if("processQueuedMainThreadWork"===e)fb();else if("spawnThread"===e)gb(c);else if("cleanupThread"===e)Ya(c.thread);else if("killThread"===e)c=c.thread,
w()[c+8>>2]=0,e=A.ea[c],delete A.ea[c],e.worker.terminate(),Za(e),A.na.splice(A.na.indexOf(e.worker),1),e.worker.ga=void 0;else if("cancelThread"===e)A.ea[c.thread].worker.postMessage({cmd:"cancel"});else if("loaded"===e)a.loaded=!0,b&&b(a),a.ma&&(a.ma(),delete a.ma);else if("print"===e)ta("Thread "+c.threadId+": "+c.text);else if("printErr"===e)O("Thread "+c.threadId+": "+c.text);else if("alert"===e)alert("Thread "+c.threadId+": "+c.text);else if("detachedExit"===e)A.sa(a);else if("cancelDone"===
e)A.sa(a);else if("setimmediate"===c.target)a.postMessage(c);else if("onAbort"===e){if(z.onAbort)z.onAbort(c.arg)}else O("worker sent an unknown command "+e);A.Ga=void 0};a.onerror=function(c){O("pthread sent an error! "+c.filename+":"+c.lineno+": "+c.message);throw c;};E&&(a.on("message",function(c){a.onmessage({data:c})}),a.on("error",function(c){a.onerror(c)}),a.on("detachedExit",function(){}));a.postMessage({cmd:"load",urlOrBlob:z.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:va})},
Aa:function(){var a=oa("stockfish.worker.js");A.fa.push(new Worker(a))},Ia:function(){0==A.fa.length&&(A.Aa(),A.Da(A.fa[0]));return A.fa.pop()}};z.establishStackSpace=function(a,b){hb(a,b);Wa(a)};function ib(a){if(F)return Z(1,0,a);try{bb(a)}catch(b){cb(b)}}var jb=[];function Ta(a){var b=jb[a];b||(a>=jb.length&&(jb.length=a+1),jb[a]=b=Ga.get(a));return b}z.invokeEntryPoint=function(a,b){return Ta(a)(b)};var kb;
kb=E?function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:F?function(){return performance.now()-z.__performance_now_clock_drift}:function(){return performance.now()};
function gb(a){var b=A.Ia();if(!b)return 6;A.na.push(b);var c=a.ha+a.ia,e=A.ea[a.xa]={worker:b,ha:a.ha,ia:a.ia,wa:a.wa,ja:a.xa},h=e.ja>>2;Atomics.store(y(),h+15,a.detached);Atomics.store(y(),h+19,a.ia);Atomics.store(y(),h+18,c);Atomics.store(y(),h+25,a.ia);Atomics.store(y(),h+27,c);Atomics.store(y(),h+28,a.detached);b.ga=e;var g={cmd:"run",start_routine:a.Qa,arg:a.la,threadInfoStruct:a.xa,stackBase:a.ha,stackSize:a.ia};b.ma=function(){g.time=performance.now();b.postMessage(g,a.Va)};b.loaded&&(b.ma(),
delete b.ma);return 0}
function lb(a,b,c){if(0>=a||a>d().length||a&1)return-28;if(na){if(Atomics.load(w(),a>>2)!=b)return-6;var e=performance.now();c=e+c;for(Atomics.exchange(w(),Y>>2,a);;){e=performance.now();if(e>c)return Atomics.exchange(w(),Y>>2,0),-73;e=Atomics.exchange(w(),Y>>2,0);if(0==e)break;fb();if(Atomics.load(w(),a>>2)!=b)return-6;Atomics.exchange(w(),Y>>2,a)}return 0}a=Atomics.wait(w(),a>>2,b,c);if("timed-out"===a)return-73;if("not-equal"===a)return-6;if("ok"===a)return 0;throw"Atomics.wait returned an unexpected value "+a;
}function mb(){E||D||(ua||(ua={}),ua["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(ua["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,O("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))}
function nb(a,b){if(!a)return O("pthread_join attempted on a null thread pointer!"),71;if(w()[a+8>>2]!==a)return O("pthread_join attempted on thread "+a+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(y(),a+60>>2))return O("Attempted to join thread "+a+", which was already detached!"),28;if(F&&eb()==a)return O("PThread "+a+" is attempting to join to itself!"),16;if(!F&&ob()==a)return O("Main thread "+a+" is attempting to join to itself!"),16;for(mb();;){var c=
Atomics.load(y(),a+0>>2);if(1==c)return b&&(c=Atomics.load(y(),a+88>>2),w()[b>>2]=c),Atomics.store(y(),a+60>>2,1),F?postMessage({cmd:"cleanupThread",thread:a}):Ya(a),0;pb();F||fb();lb(a+0,c,F?100:1)}}var qb=[null,[],[]],rb={};function sb(a,b,c){return F?Z(3,1,a,b,c):0}function tb(a,b,c){return F?Z(4,1,a,b,c):0}function ub(a,b,c){if(F)return Z(5,1,a,b,c)}
function Z(a,b){var c=arguments.length-2,e=arguments;return Ua(function(){for(var h=T(8*c),g=h>>3,m=0;m<c;m++){var q=e[2+m];fa()[g+m]=q}return vb(a,c,h,b)})}var wb=[];function xb(a,b,c,e){Ua(function(){var h=T(12),g=0;if(b){g=Ca(b)+1;var m=yb(g);Ba(b,t(),m,g);g=m}w()[h>>2]=g;w()[h+4>>2]=c;w()[h+8>>2]=e;zb(0,a,657457152,0,g,h)})}var Ab=[0,"undefined"!==typeof document?document:0,"undefined"!==typeof window?window:0];
function Bb(a){a=2<a?S(a):a;return Ab[a]||("undefined"!==typeof document?document.querySelector(a):void 0)}function Cb(a,b,c){var e=Bb(a);if(!e)return-4;e.ra&&(w()[e.ra>>2]=b,w()[e.ra+4>>2]=c);if(e.Ea||!e.Xa)e.Ea&&(e=e.Ea),a=!1,e.qa&&e.qa.pa&&(a=e.qa.pa.getParameter(2978),a=0===a[0]&&0===a[1]&&a[2]===e.width&&a[3]===e.height),e.width=b,e.height=c,a&&e.qa.pa.viewport(0,0,b,c);else return e.ra?(e=w()[e.ra+8>>2],a=a?S(a):"",xb(e,a,b,c),1):-4;return 0}
function Db(a,b,c){return F?Z(6,1,a,b,c):Cb(a,b,c)}function Eb(a){if(!La&&!wa)try{if(a(),F&&!N())try{F?Fb(R):bb(R)}catch(b){cb(b)}}catch(b){cb(b)}}function Gb(a){var b=a.getExtension("ANGLE_instanced_arrays");b&&(a.vertexAttribDivisor=function(c,e){b.vertexAttribDivisorANGLE(c,e)},a.drawArraysInstanced=function(c,e,h,g){b.drawArraysInstancedANGLE(c,e,h,g)},a.drawElementsInstanced=function(c,e,h,g,m){b.drawElementsInstancedANGLE(c,e,h,g,m)})}
function Hb(a){var b=a.getExtension("OES_vertex_array_object");b&&(a.createVertexArray=function(){return b.createVertexArrayOES()},a.deleteVertexArray=function(c){b.deleteVertexArrayOES(c)},a.bindVertexArray=function(c){b.bindVertexArrayOES(c)},a.isVertexArray=function(c){return b.isVertexArrayOES(c)})}function Ib(a){var b=a.getExtension("WEBGL_draw_buffers");b&&(a.drawBuffers=function(c,e){b.drawBuffersWEBGL(c,e)})}
function Jb(a,b){a.Ca||(a.Ca=a.getContext,a.getContext=function(e,h){h=a.Ca(e,h);return"webgl"==e==h instanceof WebGLRenderingContext?h:null});var c=a.getContext("webgl",b);return c?Kb(c,b):0}function Kb(a,b){var c=yb(8);w()[c+4>>2]=eb();var e={bb:c,attributes:b,version:b.Ma,pa:a};a.canvas&&(a.canvas.qa=e);("undefined"===typeof b.Ba||b.Ba)&&Lb(e);return c}
function Lb(a){a||(a=Nb);if(!a.Ja){a.Ja=!0;var b=a.pa;Gb(b);Hb(b);Ib(b);b.Ya=b.getExtension("EXT_disjoint_timer_query");b.eb=b.getExtension("WEBGL_multi_draw");(b.getSupportedExtensions()||[]).forEach(function(c){c.includes("lose_context")||c.includes("debug")||b.getExtension(c)})}}var Nb,Ob=["default","low-power","high-performance"],Pb={};
function Qb(){if(!Rb){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:la||"./this.program"},b;for(b in Pb)void 0===Pb[b]?delete a[b]:a[b]=Pb[b];var c=[];for(b in a)c.push(b+"="+a[b]);Rb=c}return Rb}var Rb;
function Sb(a,b){if(F)return Z(7,1,a,b);var c=0;Qb().forEach(function(e,h){var g=b+c;h=w()[a+4*h>>2]=g;for(g=0;g<e.length;++g)d()[h++>>0]=e.charCodeAt(g);d()[h>>0]=0;c+=e.length+1});return 0}function Tb(a,b){if(F)return Z(8,1,a,b);var c=Qb();w()[a>>2]=c.length;var e=0;c.forEach(function(h){e+=h.length+1});w()[b>>2]=e;return 0}function Ub(a){return F?Z(9,1,a):0}function Vb(a,b,c,e){if(F)return Z(10,1,a,b,c,e);a=rb.ab(a);b=rb.Za(a,b,c);w()[e>>2]=b;return 0}
function Wb(a,b,c,e,h){if(F)return Z(11,1,a,b,c,e,h)}function Xb(a,b,c,e){if(F)return Z(12,1,a,b,c,e);for(var h=0,g=0;g<c;g++){var m=w()[b>>2],q=w()[b+4>>2];b+=8;for(var x=0;x<q;x++){var r=t()[m+x],u=qb[a];0===r||10===r?((1===a?ta:O)(Aa(u,0)),u.length=0):u.push(r)}h+=q}w()[e>>2]=h;return 0}function Yb(a){return 0===a%4&&(0!==a%100||0===a%400)}function Zb(a,b){for(var c=0,e=0;e<=b;c+=a[e++]);return c}var $b=[31,29,31,30,31,30,31,31,30,31,30,31],ac=[31,28,31,30,31,30,31,31,30,31,30,31];
function bc(a,b){for(a=new Date(a.getTime());0<b;){var c=a.getMonth(),e=(Yb(a.getFullYear())?$b:ac)[c];if(b>e-a.getDate())b-=e-a.getDate()+1,a.setDate(1),11>c?a.setMonth(c+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}
function cc(a,b,c,e){function h(f,p,v){for(f="number"===typeof f?f.toString():f||"";f.length<p;)f=v[0]+f;return f}function g(f,p){return h(f,p,"0")}function m(f,p){function v(Mb){return 0>Mb?-1:0<Mb?1:0}var K;0===(K=v(f.getFullYear()-p.getFullYear()))&&0===(K=v(f.getMonth()-p.getMonth()))&&(K=v(f.getDate()-p.getDate()));return K}function q(f){switch(f.getDay()){case 0:return new Date(f.getFullYear()-1,11,29);case 1:return f;case 2:return new Date(f.getFullYear(),0,3);case 3:return new Date(f.getFullYear(),
0,2);case 4:return new Date(f.getFullYear(),0,1);case 5:return new Date(f.getFullYear()-1,11,31);case 6:return new Date(f.getFullYear()-1,11,30)}}function x(f){f=bc(new Date(f.da+1900,0,1),f.va);var p=new Date(f.getFullYear()+1,0,4),v=q(new Date(f.getFullYear(),0,4));p=q(p);return 0>=m(v,f)?0>=m(p,f)?f.getFullYear()+1:f.getFullYear():f.getFullYear()-1}var r=w()[e+40>>2];e={Ta:w()[e>>2],Sa:w()[e+4>>2],ta:w()[e+8>>2],oa:w()[e+12>>2],ka:w()[e+16>>2],da:w()[e+20>>2],ua:w()[e+24>>2],va:w()[e+28>>2],ib:w()[e+
32>>2],Ra:w()[e+36>>2],Ua:r?S(r):""};c=S(c);r={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in r)c=c.replace(new RegExp(u,"g"),r[u]);var aa="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
sa="January February March April May June July August September October November December".split(" ");r={"%a":function(f){return aa[f.ua].substring(0,3)},"%A":function(f){return aa[f.ua]},"%b":function(f){return sa[f.ka].substring(0,3)},"%B":function(f){return sa[f.ka]},"%C":function(f){return g((f.da+1900)/100|0,2)},"%d":function(f){return g(f.oa,2)},"%e":function(f){return h(f.oa,2," ")},"%g":function(f){return x(f).toString().substring(2)},"%G":function(f){return x(f)},"%H":function(f){return g(f.ta,
2)},"%I":function(f){f=f.ta;0==f?f=12:12<f&&(f-=12);return g(f,2)},"%j":function(f){return g(f.oa+Zb(Yb(f.da+1900)?$b:ac,f.ka-1),3)},"%m":function(f){return g(f.ka+1,2)},"%M":function(f){return g(f.Sa,2)},"%n":function(){return"\n"},"%p":function(f){return 0<=f.ta&&12>f.ta?"AM":"PM"},"%S":function(f){return g(f.Ta,2)},"%t":function(){return"\t"},"%u":function(f){return f.ua||7},"%U":function(f){var p=new Date(f.da+1900,0,1),v=0===p.getDay()?p:bc(p,7-p.getDay());f=new Date(f.da+1900,f.ka,f.oa);return 0>
m(v,f)?g(Math.ceil((31-v.getDate()+(Zb(Yb(f.getFullYear())?$b:ac,f.getMonth()-1)-31)+f.getDate())/7),2):0===m(v,p)?"01":"00"},"%V":function(f){var p=new Date(f.da+1901,0,4),v=q(new Date(f.da+1900,0,4));p=q(p);var K=bc(new Date(f.da+1900,0,1),f.va);return 0>m(K,v)?"53":0>=m(p,K)?"01":g(Math.ceil((v.getFullYear()<f.da+1900?f.va+32-v.getDate():f.va+1-v.getDate())/7),2)},"%w":function(f){return f.ua},"%W":function(f){var p=new Date(f.da,0,1),v=1===p.getDay()?p:bc(p,0===p.getDay()?1:7-p.getDay()+1);f=
new Date(f.da+1900,f.ka,f.oa);return 0>m(v,f)?g(Math.ceil((31-v.getDate()+(Zb(Yb(f.getFullYear())?$b:ac,f.getMonth()-1)-31)+f.getDate())/7),2):0===m(v,p)?"01":"00"},"%y":function(f){return(f.da+1900).toString().substring(2)},"%Y":function(f){return f.da+1900},"%z":function(f){f=f.Ra;var p=0<=f;f=Math.abs(f)/60;return(p?"+":"-")+String("0000"+(f/60*100+f%60)).slice(-4)},"%Z":function(f){return f.Ua},"%%":function(){return"%"}};for(u in r)c.includes(u)&&(c=c.replace(new RegExp(u,"g"),r[u](e)));u=dc(c);
if(u.length>b)return 0;Ea(u,a);return u.length-1}F||A.Ka();var ec=[null,ib,function(a,b){if(F)return Z(2,1,a,b)},sb,tb,ub,Db,Sb,Tb,Ub,Vb,Wb,Xb];function dc(a){var b=Array(Ca(a)+1);Ba(a,b,0,b.length);return b}
var jc={c:function(a,b,c,e){Q("Assertion failed: "+S(a)+", at: "+[b?S(b):"unknown filename",c,e?S(e):"unknown function"])},F:function(a){fc(a,!D,1);A.Fa()},l:function(a,b,c,e){if("undefined"===typeof SharedArrayBuffer)return O("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];if(F&&0===h.length)return gc(687865856,a,b,c,e);var g=0,m=0;if(b&&-1!=b){var q=w()[b>>2];q+=2097152;g=w()[b+8>>2];m=0!==w()[b+12>>2]}else q=2097152;(b=0==g)?g=hc(16,q):(g-=q,assert(0<
g));a={ha:g,ia:q,wa:b,detached:m,Qa:c,xa:a,la:e,Va:h};return F?(a.Wa="spawnThread",postMessage(a,h),0):gb(a)},B:function(){postMessage({cmd:"detachedExit"})},z:function(a,b){return nb(a,b)},k:sb,t:tb,u:ub,m:function(a,b){if(a==b)postMessage({cmd:"processQueuedMainThreadWork"});else if(F)postMessage({targetThread:a,cmd:"processThreadQueue"});else{a=(a=A.ea[a])&&a.worker;if(!a)return;a.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){Q("")},q:function(a,b){if(0===a)a=Date.now();else if(1===
a||4===a)a=kb();else return w()[ic()>>2]=28,-1;w()[b>>2]=a/1E3|0;w()[b+4>>2]=a%1E3*1E6|0;return 0},y:mb,i:function(){},e:lb,d:Xa,f:kb,o:function(a,b,c){t().copyWithin(a,b,b+c)},C:function(a,b,c){wb.length=b;c>>=3;for(var e=0;e<b;e++)wb[e]=fa()[c+e];return(0>a?Sa[-a-1]:ec[a]).apply(null,wb)},p:function(a){var b=t().length;a>>>=0;if(a<=b||2147483648<a)return!1;for(var c=1;4>=c;c*=2){var e=b*(1+.2/c);e=Math.min(e,a+100663296);e=Math.max(a,e);0<e%65536&&(e+=65536-e%65536);a:{try{k.grow(Math.min(2147483648,
e)-l.byteLength+65535>>>16);n(k.buffer);var h=1;break a}catch(g){}h=void 0}if(h)return!0}return!1},D:function(a,b,c){return Bb(a)?Cb(a,b,c):Db(a,b,c)},h:function(){},G:function(a,b,c){Ma+=1;return setTimeout(function(){--Ma;Eb(function(){Ta(a)(c)})},b)},A:function(){throw"unwind";},E:function(a,b){b>>=2;var c=w()[b+6];b={alpha:!!w()[b],depth:!!w()[b+1],stencil:!!w()[b+2],antialias:!!w()[b+3],premultipliedAlpha:!!w()[b+4],preserveDrawingBuffer:!!w()[b+5],powerPreference:Ob[c],failIfMajorPerformanceCaveat:!!w()[b+
7],Ma:w()[b+8],cb:w()[b+9],Ba:w()[b+10],Ha:w()[b+11],fb:w()[b+12],gb:w()[b+13]};a=Bb(a);return!a||b.Ha?0:Jb(a,b)},w:Sb,x:Tb,g:ab,j:Ub,s:Vb,n:Wb,r:Xb,a:k||z.wasmMemory,v:function(a,b,c,e){return cc(a,b,c,e)}};
(function(){function a(h,g){z.asm=h.exports;A.za.push(z.asm.M);Ga=z.asm.ba;Ia.unshift(z.asm.H);va=g;if(!F){var m=A.fa.length;A.fa.forEach(function(q){A.Da(q,function(){if(!--m&&(U--,z.monitorRunDependencies&&z.monitorRunDependencies(U),0==U&&(null!==Oa&&(clearInterval(Oa),Oa=null),V))){var x=V;V=null;x()}})})}}function b(h){a(h.instance,h.module)}function c(h){return Ra().then(function(g){return WebAssembly.instantiate(g,e)}).then(function(g){return g}).then(h,function(g){O("failed to asynchronously prepare wasm: "+
g);Q(g)})}var e={a:jc};F||(U++,z.monitorRunDependencies&&z.monitorRunDependencies(U));if(z.instantiateWasm)try{return z.instantiateWasm(e,a)}catch(h){return O("Module.instantiateWasm callback failed with error: "+h),!1}(function(){return P||"function"!==typeof WebAssembly.instantiateStreaming||Pa()||"function"!==typeof fetch?c(b):fetch(W,{credentials:"same-origin"}).then(function(h){return WebAssembly.instantiateStreaming(h,e).then(b,function(g){O("wasm streaming compile failed: "+g);O("falling back to ArrayBuffer instantiation");
return c(b)})})})().catch(ja);return{}})();z.___wasm_call_ctors=function(){return(z.___wasm_call_ctors=z.asm.H).apply(null,arguments)};z._main=function(){return(z._main=z.asm.I).apply(null,arguments)};var yb=z._malloc=function(){return(yb=z._malloc=z.asm.J).apply(null,arguments)},$a=z._free=function(){return($a=z._free=z.asm.K).apply(null,arguments)};z._uci_command=function(){return(z._uci_command=z.asm.L).apply(null,arguments)};
z._emscripten_tls_init=function(){return(z._emscripten_tls_init=z.asm.M).apply(null,arguments)};z._emscripten_current_thread_process_queued_calls=function(){return(z._emscripten_current_thread_process_queued_calls=z.asm.N).apply(null,arguments)};
var ob=z._emscripten_main_browser_thread_id=function(){return(ob=z._emscripten_main_browser_thread_id=z.asm.O).apply(null,arguments)},gc=z._emscripten_sync_run_in_main_thread_4=function(){return(gc=z._emscripten_sync_run_in_main_thread_4=z.asm.P).apply(null,arguments)},fb=z._emscripten_main_thread_process_queued_calls=function(){return(fb=z._emscripten_main_thread_process_queued_calls=z.asm.Q).apply(null,arguments)},vb=z._emscripten_run_in_main_runtime_thread_js=function(){return(vb=z._emscripten_run_in_main_runtime_thread_js=
z.asm.R).apply(null,arguments)},zb=z.__emscripten_call_on_thread=function(){return(zb=z.__emscripten_call_on_thread=z.asm.S).apply(null,arguments)},Fb=z.__emscripten_thread_exit=function(){return(Fb=z.__emscripten_thread_exit=z.asm.T).apply(null,arguments)},eb=z._pthread_self=function(){return(eb=z._pthread_self=z.asm.U).apply(null,arguments)},fc=z.__emscripten_thread_init=function(){return(fc=z.__emscripten_thread_init=z.asm.V).apply(null,arguments)},pb=z._pthread_testcancel=function(){return(pb=
z._pthread_testcancel=z.asm.W).apply(null,arguments)},ic=z.___errno_location=function(){return(ic=z.___errno_location=z.asm.X).apply(null,arguments)},Va=z.stackSave=function(){return(Va=z.stackSave=z.asm.Y).apply(null,arguments)},Wa=z.stackRestore=function(){return(Wa=z.stackRestore=z.asm.Z).apply(null,arguments)},T=z.stackAlloc=function(){return(T=z.stackAlloc=z.asm._).apply(null,arguments)},hb=z._emscripten_stack_set_limits=function(){return(hb=z._emscripten_stack_set_limits=z.asm.$).apply(null,
arguments)},hc=z._memalign=function(){return(hc=z._memalign=z.asm.aa).apply(null,arguments)},db=z.__emscripten_allow_main_runtime_queued_calls=25276,Y=z.__emscripten_main_thread_futex=1088452;
z.ccall=function(a,b,c,e){var h={string:function(r){var u=0;if(null!==r&&void 0!==r&&0!==r){var aa=(r.length<<2)+1,sa=u=T(aa);Ba(r,t(),sa,aa)}return u},array:function(r){var u=T(r.length);Ea(r,u);return u}};a=xa(a);var g=[],m=0;if(e)for(var q=0;q<e.length;q++){var x=h[c[q]];x?(0===m&&(m=Va()),g[q]=x(e[q])):g[q]=e[q]}c=a.apply(null,g);return c=function(r){0!==m&&Wa(m);return"string"===b?S(r):"boolean"===b?!!r:r}(c)};z.keepRuntimeAlive=N;z.PThread=A;z.PThread=A;z.wasmMemory=k;z.ExitStatus=M;var kc;
function M(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}V=function lc(){kc||mc();kc||(V=lc)};
function mc(a){function b(){if(!kc&&(kc=!0,z.calledRun=!0,!wa)){F||X(Ia);F||X(Ja);ia(z);if(z.onRuntimeInitialized)z.onRuntimeInitialized();if(nc){var c=a,e=z._main;c=c||[];var h=c.length+1,g=T(4*(h+1));w()[g>>2]=Da(la);for(var m=1;m<h;m++)w()[(g>>2)+m]=Da(c[m-1]);w()[(g>>2)+h]=0;try{var q=e(h,g);bb(q,!0)}catch(x){cb(x)}finally{}}if(!F){if(z.postRun)for("function"==typeof z.postRun&&(z.postRun=[z.postRun]);z.postRun.length;)c=z.postRun.shift(),Ka.unshift(c);X(Ka)}}}a=a||ka;if(!(0<U))if(F)ia(z),F||
X(Ia),postMessage({cmd:"loaded"});else{if(!F){if(z.preRun)for("function"==typeof z.preRun&&(z.preRun=[z.preRun]);z.preRun.length;)Na();X(Ha)}0<U||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1);b()},1)):b())}}z.run=mc;function bb(a,b){R=a;if(!b&&F)throw ib(a),"unwind";N()||F||(A.ya(),La=!0);R=a;if(!N()){A.ya();if(z.onExit)z.onExit(a);wa=!0}ma(a,new M(a))}if(z.preInit)for("function"==typeof z.preInit&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();
var nc=!0;z.noInitialRun&&(nc=!1);F&&(noExitRuntime=!1,A.La());mc();


  return Stockfish.ready
}
);
})();
//if (typeof exports === 'object' && typeof module === 'object')
//  module.exports = Stockfish;
//else if (typeof define === 'function' && define['amd'])
//  define([], function() { return Stockfish; });
//else if (typeof exports === 'object')
//  exports["Stockfish"] = Stockfish;
